#!/usr/bin/env pybricks-micropython
from pybricks.hubs import EV3Brick
from pybricks.ev3devices import (Motor, TouchSensor, ColorSensor,
                                 InfraredSensor, UltrasonicSensor, GyroSensor)
from pybricks.parameters import Port, Stop, Direction, Button, Color
from pybricks.tools import wait, StopWatch, DataLog
from pybricks.robotics import DriveBase
from pybricks.media.ev3dev import SoundFile, ImageFile
import array

#ev3 = EV3Brick()
line_sensor = ColorSensor(Port.S4)
robot = Motor(Port.A)
#timer = StopWatch()
data = DataLog('ColorCode', name='BarCodeScanner', timestamp=False, extension='csv', append=False)
angle = 435
#bwID = array.array('i',[0, 1, 0, 1, 0, 1, 0, 1, 0])#0 for black 
ColorCode = array.array('i', (0 for _ in range(400)))
#loop = 0 #loop through arrays
robot.reset_angle(0)
robot.run_angle(125, angle, wait=False)
i = 0
while i < 400:
    r =  line_sensor.reflection()
    ColorCode[i] = r
    wait(8)
    i+=1
wait(1100)
robot.run_angle(150, -500, wait=False)
wait(2500)
print(ColorCode)

count = 0
data.log(str(ColorCode[count])+","+str(ColorCode[count+1])+","+str(ColorCode[count+2])+","+str(ColorCode[count+3])+","+str(ColorCode[count+4])+","+str(ColorCode[count+5])+","+str(ColorCode[count+6])+","+str(ColorCode[count+7])+","+str(ColorCode[count+8])+","+str(ColorCode[count+9])+","+str
(ColorCode[count+10])+","+str(ColorCode[count+11])+","+str(ColorCode[count+12])+","+str(ColorCode[count+13])+","+str(ColorCode[count+14])+","+str
(ColorCode[count+15])+","+str(ColorCode[count+16])+","+str(ColorCode[count+17])+","+str(ColorCode[count+18])+","+str(ColorCode[count+19])+","+str
(ColorCode[count+20])+","+str(ColorCode[count+21])+","+str(ColorCode[count+22])+","+str(ColorCode[count+23])+","+str(ColorCode[count+24])+","+str
(ColorCode[count+25])+","+str(ColorCode[count+26])+","+str(ColorCode[count+27])+","+str(ColorCode[count+28])+","+str(ColorCode[count+29])+","+str
(ColorCode[count+30])+","+str(ColorCode[count+31])+","+str(ColorCode[count+32])+","+str(ColorCode[count+33])+","+str(ColorCode[count+34])+","+str
(ColorCode[count+35])+","+str(ColorCode[count+36])+","+str(ColorCode[count+37])+","+str(ColorCode[count+38])+","+str(ColorCode[count+39])+","+str
(ColorCode[count+40])+","+str(ColorCode[count+41])+","+str(ColorCode[count+42])+","+str(ColorCode[count+43])+","+str(ColorCode[count+44])+","+str
(ColorCode[count+45])+","+str(ColorCode[count+46])+","+str(ColorCode[count+47])+","+str(ColorCode[count+48])+","+str(ColorCode[count+49])+","+str
(ColorCode[count+50])+","+str(ColorCode[count+51])+","+str(ColorCode[count+52])+","+str(ColorCode[count+53])+","+str(ColorCode[count+54])+","+str
(ColorCode[count+55])+","+str(ColorCode[count+56])+","+str(ColorCode[count+57])+","+str(ColorCode[count+58])+","+str(ColorCode[count+59])+","+str
(ColorCode[count+60])+","+str(ColorCode[count+61])+","+str(ColorCode[count+62])+","+str(ColorCode[count+63])+","+str(ColorCode[count+64])+","+str
(ColorCode[count+65])+","+str(ColorCode[count+66])+","+str(ColorCode[count+67])+","+str(ColorCode[count+68])+","+str(ColorCode[count+69])+","+str
(ColorCode[count+70])+","+str(ColorCode[count+71])+","+str(ColorCode[count+72])+","+str(ColorCode[count+73])+","+str(ColorCode[count+74])+","+str
(ColorCode[count+75])+","+str(ColorCode[count+76])+","+str(ColorCode[count+77])+","+str(ColorCode[count+78])+","+str(ColorCode[count+79])+","+str
(ColorCode[count+80])+","+str(ColorCode[count+81])+","+str(ColorCode[count+82])+","+str(ColorCode[count+83])+","+str(ColorCode[count+84])+","+str
(ColorCode[count+85])+","+str(ColorCode[count+86])+","+str(ColorCode[count+87])+","+str(ColorCode[count+88])+","+str(ColorCode[count+89])+","+str
(ColorCode[count+90])+","+str(ColorCode[count+91])+","+str(ColorCode[count+92])+","+str(ColorCode[count+93])+","+str(ColorCode[count+94])+","+str
(ColorCode[count+95])+","+str(ColorCode[count+96])+","+str(ColorCode[count+97])+","+str(ColorCode[count+98])+","+str(ColorCode[count+99])+","+str
(ColorCode[count+100])+","+str(ColorCode[count+101])+","+str(ColorCode[count+102])+","+str(ColorCode[count+103])+","+str(ColorCode[count+104])+","+str(ColorCode[count+105])+","+str(ColorCode[count+106])+","+str(ColorCode[count+107])+","+str(ColorCode[count+108])+","+str(ColorCode[count+109])+","+str(ColorCode[count+110])+","+str(ColorCode[count+111])+","+str(ColorCode[count+112])+","+str(ColorCode[count+113])+","+str(ColorCode[count+114])+","+str(ColorCode[count+115])+","+str(ColorCode[count+116])+","+str(ColorCode[count+117])+","+str(ColorCode[count+118])+","+str(ColorCode[count+119])+","+str(ColorCode[count+120])+","+str(ColorCode[count+121])+","+str(ColorCode[count+122])+","+str(ColorCode[count+123])+","+str(ColorCode[count+124])+","+str(ColorCode[count+125])+","+str(ColorCode[count+126])+","+str(ColorCode[count+127])+","+str(ColorCode[count+128])+","+str(ColorCode[count+129])+","+str(ColorCode[count+130])+","+str(ColorCode[count+131])+","+str(ColorCode[count+132])+","+str(ColorCode[count+133])+","+str(ColorCode[count+134])+","+str(ColorCode[count+135])+","+str(ColorCode[count+136])+","+str(ColorCode[count+137])+","+str(ColorCode[count+138])+","+str(ColorCode[count+139])+","+str(ColorCode[count+140])+","+str(ColorCode[count+141])+","+str(ColorCode[count+142])+","+str(ColorCode[count+143])+","+str(ColorCode[count+144])+","+str(ColorCode[count+145])+","+str(ColorCode[count+146])+","+str(ColorCode[count+147])+","+str(ColorCode[count+148])+","+str(ColorCode[count+149])+","+str(ColorCode[count+150])+","+str(ColorCode[count+151])+","+str(ColorCode[count+152])+","+str(ColorCode[count+153])+","+str(ColorCode[count+154])+","+str(ColorCode[count+155])+","+str(ColorCode[count+156])+","+str(ColorCode[count+157])+","+str(ColorCode[count+158])+","+str(ColorCode[count+159])+","+str(ColorCode[count+160])+","+str(ColorCode[count+161])+","+str(ColorCode[count+162])+","+str(ColorCode[count+163])+","+str(ColorCode[count+164])+","+str(ColorCode[count+165])+","+str(ColorCode[count+166])+","+str(ColorCode[count+167])+","+str(ColorCode[count+168])+","+str(ColorCode[count+169])+","+str(ColorCode[count+170])+","+str(ColorCode[count+171])+","+str(ColorCode[count+172])+","+str(ColorCode[count+173])+","+str(ColorCode[count+174])+","+str(ColorCode[count+175])+","+str(ColorCode[count+176])+","+str(ColorCode[count+177])+","+str(ColorCode[count+178])+","+str(ColorCode[count+179])+","+str(ColorCode[count+180])+","+str(ColorCode[count+181])+","+str(ColorCode[count+182])+","+str(ColorCode[count+183])+","+str(ColorCode[count+184])+","+str(ColorCode[count+185])+","+str(ColorCode[count+186])+","+str(ColorCode[count+187])+","+str(ColorCode[count+188])+","+str(ColorCode[count+189])+","+str(ColorCode[count+190])+","+str(ColorCode[count+191])+","+str(ColorCode[count+192])+","+str(ColorCode[count+193])+","+str(ColorCode[count+194])+","+str(ColorCode[count+195])+","+str(ColorCode[count+196])+","+str(ColorCode[count+197])+","+str(ColorCode[count+198])+","+str(ColorCode[count+199])+","+str(ColorCode[count+200])+","+str(ColorCode[count+201])+","+str(ColorCode[count+202])+","+str(ColorCode[count+203])+","+str(ColorCode[count+204])+","+str(ColorCode[count+205])+","+str(ColorCode[count+206])+","+str(ColorCode[count+207])+","+str(ColorCode[count+208])+","+str(ColorCode[count+209])+","+str(ColorCode[count+210])+","+str(ColorCode[count+211])+","+str(ColorCode[count+212])+","+str(ColorCode[count+213])+","+str(ColorCode[count+214])+","+str(ColorCode[count+215])+","+str(ColorCode[count+216])+","+str(ColorCode[count+217])+","+str(ColorCode[count+218])+","+str(ColorCode[count+219])+","+str(ColorCode[count+220])+","+str(ColorCode[count+221])+","+str(ColorCode[count+222])+","+str(ColorCode[count+223])+","+str(ColorCode[count+224])+","+str(ColorCode[count+225])+","+str(ColorCode[count+226])+","+str(ColorCode[count+227])+","+str(ColorCode[count+228])+","+str(ColorCode[count+229])+","+str(ColorCode[count+230])+","+str(ColorCode[count+231])+","+str(ColorCode[count+232])+","+str(ColorCode[count+233])+","+str(ColorCode[count+234])+","+str(ColorCode[count+235])+","+str(ColorCode[count+236])+","+str(ColorCode[count+237])+","+str(ColorCode[count+238])+","+str(ColorCode[count+239])+","+str(ColorCode[count+240])+","+str(ColorCode[count+241])+","+str(ColorCode[count+242])+","+str(ColorCode[count+243])+","+str(ColorCode[count+244])+","+str(ColorCode[count+245])+","+str(ColorCode[count+246])+","+str(ColorCode[count+247])+","+str(ColorCode[count+248])+","+str(ColorCode[count+249])+","+str(ColorCode[count+250])+","+str(ColorCode[count+251])+","+str(ColorCode[count+252])+","+str(ColorCode[count+253])+","+str(ColorCode[count+254])+","+str(ColorCode[count+255])+","+str(ColorCode[count+256])+","+str(ColorCode[count+257])+","+str(ColorCode[count+258])+","+str(ColorCode[count+259])+","+str(ColorCode[count+260])+","+str(ColorCode[count+261])+","+str(ColorCode[count+262])+","+str(ColorCode[count+263])+","+str(ColorCode[count+264])+","+str(ColorCode[count+265])+","+str(ColorCode[count+266])+","+str(ColorCode[count+267])+","+str(ColorCode[count+268])+","+str(ColorCode[count+269])+","+str(ColorCode[count+270])+","+str(ColorCode[count+271])+","+str(ColorCode[count+272])+","+str(ColorCode[count+273])+","+str(ColorCode[count+274])+","+str(ColorCode[count+275])+","+str(ColorCode[count+276])+","+str(ColorCode[count+277])+","+str(ColorCode[count+278])+","+str(ColorCode[count+279])+","+str(ColorCode[count+280])+","+str(ColorCode[count+281])+","+str(ColorCode[count+282])+","+str(ColorCode[count+283])+","+str(ColorCode[count+284])+","+str(ColorCode[count+285])+","+str(ColorCode[count+286])+","+str(ColorCode[count+287])+","+str(ColorCode[count+288])+","+str(ColorCode[count+289])+","+str(ColorCode[count+290])+","+str(ColorCode[count+291])+","+str(ColorCode[count+292])+","+str(ColorCode[count+293])+","+str(ColorCode[count+294])+","+str(ColorCode[count+295])+","+str(ColorCode[count+296])+","+str(ColorCode[count+297])+","+str(ColorCode[count+298])+","+str(ColorCode[count+299])+","+str(ColorCode[count+300])+","+str(ColorCode[count+301])+","+str(ColorCode[count+302])+","+str(ColorCode[count+303])+","+str(ColorCode[count+304])+","+str(ColorCode[count+305])+","+str(ColorCode[count+306])+","+str(ColorCode[count+307])+","+str(ColorCode[count+308])+","+str(ColorCode[count+309])+","+str(ColorCode[count+310])+","+str(ColorCode[count+311])+","+str(ColorCode[count+312])+","+str(ColorCode[count+313])+","+str(ColorCode[count+314])+","+str(ColorCode[count+315])+","+str(ColorCode[count+316])+","+str(ColorCode[count+317])+","+str(ColorCode[count+318])+","+str(ColorCode[count+319])+","+str(ColorCode[count+320])+","+str(ColorCode[count+321])+","+str(ColorCode[count+322])+","+str(ColorCode[count+323])+","+str(ColorCode[count+324])+","+str(ColorCode[count+325])+","+str(ColorCode[count+326])+","+str(ColorCode[count+327])+","+str(ColorCode[count+328])+","+str(ColorCode[count+329])+","+str(ColorCode[count+330])+","+str(ColorCode[count+331])+","+str(ColorCode[count+332])+","+str(ColorCode[count+333])+","+str(ColorCode[count+334])+","+str(ColorCode[count+335])+","+str(ColorCode[count+336])+","+str(ColorCode[count+337])+","+str(ColorCode[count+338])+","+str(ColorCode[count+339])+","+str(ColorCode[count+340])+","+str(ColorCode[count+341])+","+str(ColorCode[count+342])+","+str(ColorCode[count+343])+","+str(ColorCode[count+344])+","+str(ColorCode[count+345])+","+str(ColorCode[count+346])+","+str(ColorCode[count+347])+","+str(ColorCode[count+348])+","+str(ColorCode[count+349])+","+str(ColorCode[count+350])+","+str(ColorCode[count+351])+","+str(ColorCode[count+352])+","+str(ColorCode[count+353])+","+str(ColorCode[count+354])+","+str(ColorCode[count+355])+","+str(ColorCode[count+356])+","+str(ColorCode[count+357])+","+str(ColorCode[count+358])+","+str(ColorCode[count+359])+","+str(ColorCode[count+360])+","+str(ColorCode[count+361])+","+str(ColorCode[count+362])+","+str(ColorCode[count+363])+","+str(ColorCode[count+364])+","+str(ColorCode[count+365])+","+str(ColorCode[count+366])+","+str(ColorCode[count+367])+","+str(ColorCode[count+368])+","+str(ColorCode[count+369])+","+str(ColorCode[count+370])+","+str(ColorCode[count+371])+","+str(ColorCode[count+372])+","+str(ColorCode[count+373])+","+str(ColorCode[count+374])+","+str(ColorCode[count+375])+","+str(ColorCode[count+376])+","+str(ColorCode[count+377])+","+str(ColorCode[count+378])+","+str(ColorCode[count+379])+","+str(ColorCode[count+380])+","+str(ColorCode[count+381])+","+str(ColorCode[count+382])+","+str(ColorCode[count+383])+","+str(ColorCode[count+384])+","+str(ColorCode[count+385])+","+str(ColorCode[count+386])+","+str(ColorCode[count+387])+","+str(ColorCode[count+388])+","+str(ColorCode[count+389])+","+str(ColorCode[count+390])+","+str(ColorCode[count+391])+","+str(ColorCode[count+392])+","+str(ColorCode[count+393])+","+str(ColorCode[count+394])+","+str(ColorCode[count+395])+","+str(ColorCode[count+396])+","+str(ColorCode[count+397])+","+str(ColorCode[count+398])+","+str(ColorCode[count+399]))



